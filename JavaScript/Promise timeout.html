<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Custom promise example</title>
</head>
<body>
<script>
    // Define custom promise function
    // let timeoutPromise = new Promise((resolve, reject) => {
    //     setTimeout(() => {
    //         resolve('Success!');
    //     }, 2000);
    // });
    //
    // timeoutPromise
    //     .then(message => {
    //         alert(message);
    //     })

    function timeoutPromise(message, interval) {
        return new Promise(((resolve, reject) => {
            if(message === '' || typeof message !== 'string'){
                reject('message is empty or not a string');
            }else if(interval<0 ||typeof interval !== 'number'){
                reject('interval is negative or not a number');
            }else{
                setTimeout(()=>{
                    resolve(message);
                }, interval);
            }
        }));
    }

    timeoutPromise('hello',2000).then((message)=>{
        console.log(message);
    }).catch(e =>{
        console.log('there is something wrong.');
    });
    timeoutPromise('',2000).then((message)=>{
        console.log(message);
    }).catch(e =>{
        console.log('there is something wrong.');
    });
    timeoutPromise('hello',-10).then((message)=>{
        console.log(message);
    }).catch(e =>{
        console.log('there is something wrong.');
    });
</script>
</body>
</html>
